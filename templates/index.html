<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavJaeger</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <h1>JavJaeger</h1>
            <p style="margin: 0.5rem 0 0 0; font-size: 0.875rem; color: #666; font-style: italic;">人类的一切痛苦，都是因为性欲得不到满足。</p>
        </header>
        
        <div class="main-layout">
            <!-- 左侧查询功能区域 -->
            <aside class="sidebar-left">
                <div class="sidebar-header">
                    <h2>🔍 查询功能</h2>
                </div>
                
                <div class="search-forms-container">
                    <div class="search-form">
                        <div class="form-header">
                            <h3>🎬 影片查询</h3>
                        </div>
                        <form id="movie-search">
                            <input type="text" name="keyword" placeholder="输入影片番号">
                            <button type="submit">搜索</button>
                        </form>
                    </div>
                    
                    <div class="search-form">
                        <div class="form-header">
                            <h3>📋 影片列表筛选</h3>
                        </div>
                        <form id="movie-filter">
                            <select name="filterType">
                                <option value="">选择筛选类型</option>
                                <option value="star">演员</option>
                                <option value="genre">类别</option>
                                <option value="director">导演</option>
                                <option value="studio">制作商</option>
                                <option value="label">发行商</option>
                                <option value="series">系列</option>
                            </select>
                            <input type="text" name="filterValue" placeholder="输入筛选值">
                            <input type="hidden" name="filterCode" value="">
                            <button type="button" id="show-options-btn" class="options-btn" title="显示选项">📋</button>
                            <select name="magnet">
                                <option value="exist">有磁力链接</option>
                                <option value="all">全部影片</option>
                            </select>
                            <select name="type">
                                <option value="normal">有码影片</option>
                                <option value="uncensored">无码影片</option>
                            </select>
                            <div class="actor-count-filter">
                                <label for="actorCountFilter">演员人数筛选:</label>
                                <select name="actorCountFilter">
                                    <option value="">不限制</option>
                                    <option value="1">单人作品 (=1)</option>
                                    <option value="2">双人作品 (=2)</option>
                                    <option value="3">三人作品 (=3)</option>
                                    <option value="<=2">少于等于2人</option>
                                    <option value="<=3">少于等于3人</option>
                                    <option value=">=3">大于等于3人</option>
                                    <option value=">=4">大于等于4人</option>
                                </select>
                            </div>
                            <div class="actor-count-filter">
                                <label for="hasSubtitle">字幕筛选:</label>
                                <select name="hasSubtitle">
                                    <option value="">不限制</option>
                                    <option value="true">有字幕</option>
                                    <option value="false">无字幕</option>
                                </select>
                            </div>
                            <button type="submit">筛选</button>
                        </form>
                    </div>
                    

                    <div class="search-form">
                        <div class="form-header">
                            <h3>🧲 磁力链接查询</h3>
                        </div>
                        <form id="magnet-search">
                            <input type="text" name="movieId" placeholder="输入影片番号" required>
                            <select name="sortBy">
                                <option value="">排序方式 (可选)</option>
                                <option value="date">日期</option>
                                <option value="size">大小</option>
                            </select>
                            <select name="sortOrder">
                                <option value="">排序顺序 (可选)</option>
                                <option value="asc">升序</option>
                                <option value="desc">降序</option>
                            </select>
                            <button type="submit">查询磁力链接</button>
                        </form>
                    </div>
                </div>
            </aside>

            <!-- 中间结果展示区 -->
            <main class="content-main">
                <div class="content-header">
                    <h2>📊 查询结果</h2>
                </div>
                
                <!-- 进度条容器 -->
                <div class="progress-container" id="progress-container" style="display: none;">
                    <div class="progress-info">
                        <span class="progress-text" id="progress-text">正在处理请求...</span>
                        <span class="progress-percentage" id="progress-percentage">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <div class="progress-details" id="progress-details">
                        <span class="progress-current" id="progress-current">0</span> / 
                        <span class="progress-total" id="progress-total">0</span> 项
                    </div>
                </div>
                
                <div class="result-box" id="result-container">
                    <div class="empty-state">
                        <div class="empty-icon">🔍</div>
                        <p>查询结果将显示在这里</p>
                        <span class="empty-hint">请在左侧选择查询功能开始搜索</span>
                    </div>
                </div>
            </main>

            <!-- 右侧下载板块 -->
            <aside class="sidebar-right">
                <div class="sidebar-header">
                    <h2>📥 下载管理</h2>
                </div>
                
                <div class="download-section">
                    <!-- PikPak登录区域 -->
                    <div class="search-form">
                        <div class="form-header">
                            <h3>🔐 PikPak 登录</h3>
                        </div>
                        <form id="pikpak-login">
                            <input type="text" name="username" placeholder="用户名" required>
                            <input type="password" name="password" placeholder="密码" required>
                            <div class="login-buttons">
                                <button type="submit" id="login-btn">登录</button>
                                <button type="button" id="logout-btn" class="logout-btn" style="display: none;">退出</button>
                            </div>
                        </form>
                        <div id="login-status" class="login-status"></div>
                    </div>
                    
                    <div class="download-info">
                        <p class="info-text">📥 下载功能说明</p>
                        <p class="info-desc">登录PikPak后，在影片列表筛选结果页面可使用批量下载功能</p>
                    </div>
                </div>
            </aside>
        </div>
    </div>
    
    <script src="/static/app_optimized.js"></script>
</body>
</html>